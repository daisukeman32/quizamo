# 変更履歴

## [3.1.3] - 2025-01-25

### バグ修正
- ファイル選択ダイアログが2回開く問題を修正
- labelのネイティブ動作とJavaScriptの重複を解消

## [3.1.2] - 2025-01-25

### バグ修正
- CONVERTING進捗表示を実際の録画時間ベースに修正
- 元動画の長さではなく実際に録画した時間を使用

## [3.1.1] - 2025-01-25

### キー配置改善
- A / ← : フレーム戻し + 位置記録消去
- D / → : フレーム進め + 位置記録
- UNDO POS（Zキー）を削除（新ワークフローでは不要）

## [3.1.0] - 2025-01-25

### 新しい編集ワークフロー
- **Space**: 再生開始/停止 + REC（スロー再生しながらドラッグで追従記録）
- **← 左カーソル**: 1フレーム戻る + そのフレームの位置記録を消去
- **→ 右カーソル**: 1フレーム進む + 現在位置を記録（REC一瞬表示）
- ミスした場合は左カーソルで戻りながら記録を消去、良い位置で再開可能
- 慎重に編集したい場合は右カーソルで1フレームずつ進めながら調整

## [3.0.6] - 2025-01-25

### UI改善
- RECインジケーターをキャンバス表示エリア上部に移動
- 動画にかぶらない位置で視認性向上

## [3.0.5] - 2025-01-25

### バグ修正
- CONVERTING進捗表示を時間ベースに修正
- FFmpegのtime=フィールドを解析して正確な進捗計算
- 動画の長さを基準にしたパーセンテージ表示

## [3.0.4] - 2025-01-25

### UI改善
- CONVERTING段階で正確なフレームベースの進捗表示
- FFmpegログからフレーム番号を解析して進捗計算
- 録画フレーム数を基準にした正確なパーセンテージ表示

## [3.0.3] - 2025-01-25

### UI改善
- 進捗表示を2段階に分離（RECORDING 1/2、CONVERTING 2/2）
- 各段階で0-100%の正確な進捗表示
- FFmpeg変換中のフォールバックアニメーション追加

## [3.0.2] - 2025-01-25

### UI改善
- 動画エクスポート時の進捗バー追加
- RECORDING/CONVERTING状態の視覚的な進捗表示

## [3.0.1] - 2025-01-25

### バグ修正
- エクスポート時のモザイク位置が反映されない問題を修正
- CONVERTING NaN%の表示問題を修正
- モード切替時のエラーを修正

## [3.0.0] - 2025-01-25

### 動画モード追加
- 動画ファイルの読み込み・編集対応
- フレームごとの領域位置トラッキング
- 動画書き出し機能（WebM/MP4）
- タイムライン操作（再生/一時停止/シーク）

### 領域ベースのモザイク
- 矩形・楕円の2種類の形状
- 自由な回転・リサイズ対応
- 複数領域の管理
- 領域を枠外に配置可能（部分的なモザイク）
- プラスマークからのドラッグ移動

### 操作性改善
- ドラッグ操作のレスポンス向上
- 回転した楕円でも正確な移動
- リアルタイムモザイクプレビュー
- ブラシサイズと効果範囲の一致

### MP4出力対応
- FFmpeg.wasmによるMP4変換
- Netlify用_headersファイル追加
- COOP/COEPヘッダー対応

### その他
- モード切替（写真/動画）
- 多言語対応（日本語/英語）
- ダークモード対応

## [1.5.0] - 2025-01-10

### 🎨 カスタムアイコン実装
- オリジナルQロゴアイコンを完全実装
- 黒背景に白いQ輪郭、中央の穴部分にモザイクパターン
- 複数サイズ対応（16px〜1024px）
- プログラマティック生成による高品質アイコン

### ✨ 配布版完成
- 全機能実装完了
- プロフェッショナルなUI/UXデザイン
- Electron Builder設定完了
- 配布可能なアプリケーション

### 🔧 技術改善
- アイコン生成システム構築
- Canvas APIによる動的アイコン作成
- build/icons/ディレクトリ構造最適化

## [1.3.0] - 2025-01-10

### 新機能
- **Electron版追加**: ローカルフォルダへの直接アクセス対応
- 画像フォルダと出力フォルダの直接指定が可能
- ダウンロード不要で指定フォルダに直接保存

### UI調整
- コントロールパネルをコンパクト化（320px → 280px）
- パラメーターを最上部に配置（操作性向上）
- ブラシサイズとモザイク強度のデフォルト値を最適化
  - ブラシサイズ: 30 → 20（範囲: 5-60）
  - モザイク強度: 15 → 10（範囲: 3-25）
- フォルダ選択UIをコンパクト化
- Actionsボタンを最下部に移動

### Electron使用方法
```bash
npm install
npm start
```

## [1.2.0] - 2025-01-10

### デザイン刷新
- 洗練された幾何学的デザインに完全刷新
- Inter fontによるプロフェッショナルなタイポグラフィ
- グリッドパターン背景追加
- カーソル位置の精度を修正

## [1.1.0] - 2025-01-10

### 変更点
- UIデザインを黒白のシンプルなデザインに変更
- 筆カーソルに白いフチを追加（視認性向上）
- 全ての絵文字を削除
- ローカルフォルダパス指定システムを実装
- 保存済みインジケーターを日本語化

### 改善点
- カーソル位置がリアルタイムで表示されるように
- よりプロフェッショナルな黒ベースのUI
- 不要な装飾を排除したミニマルデザイン

## [1.0.0] - 2025-01-10

### 新機能
- 初回リリース
- 画像フォルダの一括読み込み機能
- リアルタイムモザイク描画機能
  - ピクセル（ドット）モザイク
  - ガウスぼかし
  - モザイクタイル
- 筆ツールのサイズ調整（10-100px）
- モザイクの粗さ調整（5-50px）
- 元に戻す/やり直し機能（最大50ステップ）
- 画像ナビゲーション（前へ/次へ）
- 個別画像保存機能
- 保存済みインジケーター表示
- タッチデバイス対応

### UI/UX
- グラデーション背景のモダンデザイン
- レスポンシブレイアウト
- 画像位置インジケーター（例: 3/19）
- ステータスメッセージ表示
- ローディングアニメーション