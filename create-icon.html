<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZAMO Icon Generator</title>
    <style>
        body {
            font-family: Inter, system-ui, sans-serif;
            background: #0a0a0a;
            color: white;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .canvas-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px;
        }
        
        canvas {
            border: 1px solid #ddd;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        button {
            background: white;
            color: black;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }
        
        button:hover {
            background: #f0f0f0;
        }
        
        .preview {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .size-label {
            color: #888;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>QUIZAMO "Q" Logo Icon</h1>
    
    <div class="canvas-container">
        <canvas id="iconCanvas" width="512" height="512"></canvas>
    </div>
    
    <div class="controls">
        <button onclick="generateIcon()">Generate Icon</button>
        <button onclick="downloadIcon(512)">Download 512px</button>
        <button onclick="downloadIcon(256)">Download 256px</button>
        <button onclick="downloadIcon(128)">Download 128px</button>
        <button onclick="downloadIcon(64)">Download 64px</button>
        <button onclick="downloadIcon(32)">Download 32px</button>
    </div>
    
    <div class="preview">
        <div>
            <canvas id="preview512" width="64" height="64"></canvas>
            <div class="size-label">512px preview</div>
        </div>
        <div>
            <canvas id="preview256" width="32" height="32"></canvas>
            <div class="size-label">256px preview</div>
        </div>
        <div>
            <canvas id="preview128" width="16" height="16"></canvas>
            <div class="size-label">128px preview</div>
        </div>
    </div>

    <script>
        function generateIcon() {
            const canvas = document.getElementById('iconCanvas');
            const ctx = canvas.getContext('2d');
            const size = 512;
            
            // Clear canvas
            ctx.clearRect(0, 0, size, size);
            
            // Simple black background
            ctx.fillStyle = '#000000';
            roundRect(ctx, 0, 0, size, size, size * 0.1);
            ctx.fill();
            
            // Draw the "Q" with white outline and mosaic fill
            const centerX = size / 2;
            const centerY = size / 2;
            const outerRadius = size * 0.3;
            const innerRadius = size * 0.18;
            const lineWidth = size * 0.05;
            
            // Draw white Q outline first
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = lineWidth;
            ctx.lineCap = 'round';
            
            // Main circle outline
            ctx.beginPath();
            ctx.arc(centerX, centerY - size * 0.02, outerRadius, 0, Math.PI * 2);
            ctx.stroke();
            
            // Tail
            const tailStartX = centerX + outerRadius * 0.5;
            const tailStartY = centerY + outerRadius * 0.5;
            const tailEndX = centerX + outerRadius * 0.85;
            const tailEndY = centerY + outerRadius * 0.85;
            ctx.beginPath();
            ctx.moveTo(tailStartX, tailStartY);
            ctx.lineTo(tailEndX, tailEndY);
            ctx.stroke();
            
            // Fill the hole (inner circle) with mosaic pattern
            drawHoleMosaicFill(ctx, centerX, centerY - size * 0.02, innerRadius);
            
            // Update previews
            updatePreviews();
        }
        
        function updatePreviews() {
            const sourceCanvas = document.getElementById('iconCanvas');
            
            // 512px preview (scaled down)
            const preview512 = document.getElementById('preview512');
            const ctx512 = preview512.getContext('2d');
            ctx512.clearRect(0, 0, 64, 64);
            ctx512.drawImage(sourceCanvas, 0, 0, 64, 64);
            
            // 256px preview
            const preview256 = document.getElementById('preview256');
            const ctx256 = preview256.getContext('2d');
            ctx256.clearRect(0, 0, 32, 32);
            ctx256.drawImage(sourceCanvas, 0, 0, 32, 32);
            
            // 128px preview
            const preview128 = document.getElementById('preview128');
            const ctx128 = preview128.getContext('2d');
            ctx128.clearRect(0, 0, 16, 16);
            ctx128.drawImage(sourceCanvas, 0, 0, 16, 16);
        }
        
        function downloadIcon(targetSize) {
            const sourceCanvas = document.getElementById('iconCanvas');
            
            // Create a new canvas with target size
            const canvas = document.createElement('canvas');
            canvas.width = targetSize;
            canvas.height = targetSize;
            const ctx = canvas.getContext('2d');
            
            // Draw the scaled image
            ctx.drawImage(sourceCanvas, 0, 0, targetSize, targetSize);
            
            // Download
            const link = document.createElement('a');
            link.download = `quizamo-icon-${targetSize}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
        
        function drawHoleMosaicFill(ctx, centerX, centerY, innerRadius) {
            const pixelSize = innerRadius * 0.25; // Mosaic pixel size relative to hole
            const colors = ['#ffffff', '#e0e0e0', '#c0c0c0', '#a0a0a0', '#808080', '#606060'];
            
            ctx.save();
            
            // Create clipping path for inner circle (the hole)
            ctx.beginPath();
            ctx.arc(centerX, centerY, innerRadius, 0, Math.PI * 2);
            ctx.clip();
            
            // Draw mosaic pixels within the hole
            const gridCols = Math.ceil((innerRadius * 2) / pixelSize);
            const gridRows = Math.ceil((innerRadius * 2) / pixelSize);
            const startX = centerX - innerRadius;
            const startY = centerY - innerRadius;
            
            for (let row = 0; row < gridRows; row++) {
                for (let col = 0; col < gridCols; col++) {
                    const x = startX + col * pixelSize;
                    const y = startY + row * pixelSize;
                    
                    // Check if pixel center is within inner circle
                    const dx = (x + pixelSize/2) - centerX;
                    const dy = (y + pixelSize/2) - centerY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance <= innerRadius - 2) { // Small margin for clean edges
                        // Create varied mosaic pattern
                        const colorIndex = (row + col * 2) % colors.length;
                        
                        // Add randomness for organic look
                        let finalColorIndex = colorIndex;
                        if (Math.random() < 0.4) {
                            finalColorIndex = Math.floor(Math.random() * colors.length);
                        }
                        
                        ctx.fillStyle = colors[finalColorIndex];
                        ctx.fillRect(x + 1, y + 1, pixelSize - 2, pixelSize - 2);
                    }
                }
            }
            
            ctx.restore();
        }
        
        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }
        
        // Generate icon on load
        window.onload = generateIcon;
    </script>
</body>
</html>